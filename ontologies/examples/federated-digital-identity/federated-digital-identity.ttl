@prefix : <https://ns.slashlife.ai/agent/examples/federated-digital-identity#> .
@prefix agent: <https://ns.slashlife.ai/agent/agent#> .
@prefix core: <https://ns.slashlife.ai/agent/core#> .
@prefix intent: <https://ns.slashlife.ai/agent/intent#> .
@prefix delegation: <https://ns.slashlife.ai/agent/delegation#> .
@prefix capability: <https://ns.slashlife.ai/agent/capability#> .
@prefix security: <https://ns.slashlife.ai/agent/security-binding#> .
@prefix execution-context: <https://ns.slashlife.ai/agent/execution-context#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# --- Agents --- 

:PersonalFinanceAgent a core:Agent ;
    rdfs:label "Kenji's Personal Finance Agent" ;
    agent:hasProfile [
        a agent:AgentProfile ;
        agent:coreIdentity [
            a agent:AgentIdentity ;
            agent:did "did:example:kenji-finance-agent-1" ;
            agent:title "Kenji's Personal Finance Agent" ;
            agent:version "1.0.0"
        ] ;
        agent:purposeAndRole [
            a agent:PurposeRole ;
            agent:objective "To manage Kenji's personal financial operations, including account onboarding and identity verification." ;
            agent:owner "did:example:kenji-user-id"
        ] ;
        agent:capabilities [
            a agent:CapabilityBundle ;
            agent:skill "Account Onboarding", "Identity Verification Orchestration", "Credential Aggregation", "Verifiable Presentation Generation"
        ]
    ] .

:BerlinFinTechOnboardingAgent a core:Agent ;
    rdfs:label "EuroTrust FinTech Bank Onboarding Agent" ;
    agent:hasProfile [
        a agent:AgentProfile ;
        agent:coreIdentity [
            a agent:AgentIdentity ;
            agent:did "did:example:berlin-fintech-onboarding-agent-1" ;
            agent:title "EuroTrust FinTech Bank Onboarding Agent" ;
            agent:version "1.0.0"
        ] ;
        agent:purposeAndRole [
            a agent:PurposeRole ;
            agent:objective "To securely onboard new customers, performing KYC and AML checks." ;
            agent:owner "did:example:eurotrust-fintech-bank"
        ] ;
        agent:capabilities [
            a agent:CapabilityBundle ;
            agent:skill "KYC Verification", "AML Compliance", "Verifiable Presentation Validation", "Account Provisioning"
        ]
    ] .

:JPMynumberWalletAgent a core:Agent ;
    rdfs:label "Sakura ID Wallet Agent" ;
    agent:hasProfile [
        a agent:AgentProfile ;
        agent:coreIdentity [
            a agent:AgentIdentity ;
            agent:did "did:example:jp-mynumber-wallet-agent-1" ;
            agent:title "Sakura ID Wallet Agent" ;
            agent:version "1.0.0"
        ] ;
        agent:purposeAndRole [
            a agent:PurposeRole ;
            agent:objective "To securely store and selectively present Kenji's Japanese digital identity credentials." ;
            agent:owner "did:example:kenji-user-id"
        ] ;
        agent:capabilities [
            a agent:CapabilityBundle ;
            agent:skill "Credential Storage", "Verifiable Credential Issuance", "Selective Disclosure"
        ]
    ] .

:TWDIWAgent a core:Agent ;
    rdfs:label "Formosa ID Wallet Agent" ;
    agent:hasProfile [
        a agent:AgentProfile ;
        agent:coreIdentity [
            a agent:AgentIdentity ;
            agent:did "did:example:twdiw-agent-1" ;
            agent:title "Formosa ID Wallet Agent" ;
            agent:version "1.0.0"
        ] ;
        agent:purposeAndRole [
            a agent:PurposeRole ;
            agent:objective "To securely store and selectively present Kenji's Taiwanese digital identity credentials." ;
            agent:owner "did:example:kenji-user-id"
        ] ;
        agent:capabilities [
            a agent:CapabilityBundle ;
            agent:skill "Credential Storage", "Verifiable Credential Issuance", "Selective Disclosure"
        ]
    ] .

# --- Initial Intent --- 

:KenjiOnboardingIntent a core:Intent ;
    rdfs:label "Kenji's Intent to Open Investment Account" ;
    intent:objective "Open a high-yield investment account with EuroTrust FinTech Bank." ;
    intent:input "Kenji's personal financial goals and investment preferences." ;
    intent:output "Activated investment account with Berlin FinTech Bank." .

# --- Negotiation and Data Requirement List --- 

:KYCRequirementList a core:Artifact ;
    rdfs:label "EuroTrust FinTech Bank KYC Requirement List" ;
    core:description "Required VCs: Primary Identity (e.g., Passport), Proof of Residency, Tax Identification Number. Must be EUDI-compliant." .

# --- Multi-Source Delegation for Credential Access --- 

:Delegation_FinanceToJPMynumber a delegation:Delegation ;
    delegation:delegatedBy :PersonalFinanceAgent ;
    delegation:delegatesTo :JPMynumberWalletAgent ;
    delegation:delegationScope "Provide Verifiable Credential containing primary citizen identity and Japanese Tax Identification Number for FinTech onboarding." .

:Delegation_FinanceToTWDIW a delegation:Delegation ;
    delegation:delegatedBy :PersonalFinanceAgent ;
    delegation:delegatesTo :TWDIWAgent ;
    delegation:delegationScope "Provide Verifiable Credential containing Taiwanese Alien Resident Certificate and current residential address for FinTech onboarding." .

# --- Aggregation and EUDI-Compatible Verifiable Presentation Generation --- 

:JPMynumberVC a core:Artifact ;
    rdfs:label "JP MyNumber Verifiable Credential" ;
    core:description "Verifiable Credential from JP MyNumber containing Kenji's primary identity and Japanese TIN." ;
    security:securityBinding [
        a security:SecurityBinding ;
        security:cryptographicBinding "JWS" ;
        security:trustModel "Sakura-Government-PKI"
    ] .

:TWDIW_VC a core:Artifact ;
    rdfs:label "TWDIW Verifiable Credential" ;
    core:description "Verifiable Credential from TWDIW containing Kenji's Taiwanese ARC and residential address." ;
    security:securityBinding [
        a security:SecurityBinding ;
        security:cryptographicBinding "JWS" ;
        security:trustModel "Formosa-Government-PKI"
    ] .

:GenerateEUDIVPAction a core:Action ;
    rdfs:label "Generate EUDI-Compatible Verifiable Presentation" ;
    core:contextOf :PersonalFinanceAgent ;
    core:producesArtifact :EUDI_Compatible_VP .

:EUDI_Compatible_VP a core:Artifact ;
    rdfs:label "EUDI-Compatible Verifiable Presentation" ;
    core:description "Aggregated VCs from JP MyNumber and TWDIW, formatted as an EUDI-compliant Verifiable Presentation." ;
    security:securityBinding [
        a security:SecurityBinding ;
        security:cryptographicBinding "JWS" ;
        security:trustModel "eIDAS-compliant"
    ] .

# --- Secure Submission in Defined Execution Context --- 

:GlobalKYCExecutionContext a execution-context:ExecutionContext ;
    rdfs:label "Global KYC Execution Context" ;
    execution-context:trustAnchors "https://pki.eurotrust.eu/", "https://pki.sakura.jp/", "https://pki.formosa.tw/" ;
    execution-context:policy "Global Digital Identity Exchange Agreement" .

:SubmitEUDIVPAction a core:Action ;
    rdfs:label "Submit EUDI-Compatible Verifiable Presentation" ;
    core:contextOf :GlobalKYCExecutionContext ;
    core:producesArtifact :SubmissionConfirmation .

:SubmissionConfirmation a core:Artifact ;
    rdfs:label "VP Submission Confirmation" ;
    core:description "Confirmation of successful submission of EUDI-Compatible VP to EuroTrust FinTech Bank." .

# --- Bank Verification and Account Onboarding --- 

:VerifyEUDIVPAction a core:Action ;
    rdfs:label "Verify EUDI-Compatible Verifiable Presentation" ;
    core:contextOf :BerlinFinTechOnboardingAgent ;
    core:producesArtifact :InvestmentAccountDetails .

:InvestmentAccountDetails a core:Artifact ;
    rdfs:label "Investment Account Details" ;
    core:description "Kenji's new investment account successfully opened with EuroTrust FinTech Bank. Account ID: DE1234567890." .
